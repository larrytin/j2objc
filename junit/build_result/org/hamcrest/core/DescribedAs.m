//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/retechretech/dev/tools/lib/j2objc/junit/build_result/java/org/hamcrest/core/DescribedAs.java
//
//  Created by retechretech on 13-9-25.
//

#include "IOSClass.h"
#include "IOSObjectArray.h"
#include "java/lang/Integer.h"
#include "java/util/regex/Matcher.h"
#include "java/util/regex/Pattern.h"
#include "org/hamcrest/Description.h"
#include "org/hamcrest/Factory.h"
#include "org/hamcrest/Matcher.h"
#include "org/hamcrest/core/DescribedAs.h"

@implementation OrgHamcrestCoreDescribedAs

static JavaUtilRegexPattern * OrgHamcrestCoreDescribedAs_ARG_PATTERN_;

+ (JavaUtilRegexPattern *)ARG_PATTERN {
  return OrgHamcrestCoreDescribedAs_ARG_PATTERN_;
}

- (id)initWithNSString:(NSString *)descriptionTemplate
withOrgHamcrestMatcher:(id<OrgHamcrestMatcher>)matcher
     withNSObjectArray:(IOSObjectArray *)values {
  if (self = [super init]) {
    OrgHamcrestCoreDescribedAs_set_descriptionTemplate_(self, descriptionTemplate);
    OrgHamcrestCoreDescribedAs_set_matcher_(self, matcher);
    OrgHamcrestCoreDescribedAs_set_values_(self, [((IOSObjectArray *) nil_chk(values)) clone]);
  }
  return self;
}

- (BOOL)matchesWithId:(id)o {
  return [((id<OrgHamcrestMatcher>) nil_chk(matcher_)) matchesWithId:o];
}

- (void)describeToWithOrgHamcrestDescription:(id<OrgHamcrestDescription>)description_ {
  JavaUtilRegexMatcher *arg = [((JavaUtilRegexPattern *) nil_chk(OrgHamcrestCoreDescribedAs_ARG_PATTERN_)) matcherWithJavaLangCharSequence:descriptionTemplate_];
  int textStart = 0;
  while ([((JavaUtilRegexMatcher *) nil_chk(arg)) find]) {
    [((id<OrgHamcrestDescription>) nil_chk(description_)) appendTextWithNSString:[((NSString *) nil_chk(descriptionTemplate_)) substring:textStart endIndex:[arg start]]];
    int argIndex = [JavaLangInteger parseIntWithNSString:[arg groupWithInt:1]];
    [description_ appendValueWithId:IOSObjectArray_Get(nil_chk(values_), argIndex)];
    textStart = [arg end];
  }
  if (textStart < [((NSString *) nil_chk(descriptionTemplate_)) length]) {
    [((id<OrgHamcrestDescription>) nil_chk(description_)) appendTextWithNSString:[descriptionTemplate_ substring:textStart]];
  }
}

+ (id<OrgHamcrestMatcher>)describedAsWithNSString:(NSString *)description_
                           withOrgHamcrestMatcher:(id<OrgHamcrestMatcher>)matcher
                                withNSObjectArray:(IOSObjectArray *)values {
  return [[[OrgHamcrestCoreDescribedAs alloc] initWithNSString:description_ withOrgHamcrestMatcher:matcher withNSObjectArray:values] autorelease];
}

+ (void)initialize {
  if (self == [OrgHamcrestCoreDescribedAs class]) {
    JreOperatorRetainedAssign(&OrgHamcrestCoreDescribedAs_ARG_PATTERN_, nil, [JavaUtilRegexPattern compileWithNSString:@"%([0-9]+)"]);
  }
}

- (void)dealloc {
  OrgHamcrestCoreDescribedAs_set_values_(self, nil);
  OrgHamcrestCoreDescribedAs_set_matcher_(self, nil);
  OrgHamcrestCoreDescribedAs_set_descriptionTemplate_(self, nil);
  [super dealloc];
}

- (void)copyAllFieldsTo:(OrgHamcrestCoreDescribedAs *)other {
  [super copyAllFieldsTo:other];
  OrgHamcrestCoreDescribedAs_set_descriptionTemplate_(other, descriptionTemplate_);
  OrgHamcrestCoreDescribedAs_set_matcher_(other, matcher_);
  OrgHamcrestCoreDescribedAs_set_values_(other, values_);
}

+ (IOSObjectArray *)__annotations_describedAsWithNSString_withOrgHamcrestMatcher_withNSObjectArray_ {
  return [IOSObjectArray arrayWithObjects:(id[]) { [[[OrgHamcrestFactoryImpl alloc] init] autorelease] } count:1 type:[IOSClass classWithProtocol:@protocol(JavaLangAnnotationAnnotation)]];
}

@end
